#pragma once

/*==============================================================================
Signal history linear operator: first time derivative.
==============================================================================*/

//******************************************************************************
//******************************************************************************
//******************************************************************************

#include "risCmdLineExec.h"

#include "dspHistoryOperParms.h"
#include "dspHistoryOperBase.h"

//******************************************************************************
//******************************************************************************
//******************************************************************************

namespace Dsp
{

//******************************************************************************
//******************************************************************************
//******************************************************************************
//******************************************************************************
//******************************************************************************
//******************************************************************************
// This class provides a linear operator on the set of signal histories the 
// first time derivative. It's a differentiator.
 
class HistoryOperDerivOne : public HistoryOperBase
{
public:
   typedef HistoryOperBase BaseClass;

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Members.

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Methods.

   // Constructor.
   HistoryOperDerivOne(HistoryOperParms& aParms);
   void show();

   // Apply the linear operator from the input to the output. F:X->Y.
   // This calculates the first derivative using a central difference method 
   // based on the Holoborodko algorithm for regular time intervals.
   void operate(History& aX, History& aY) override;

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Methods.

   // Calculate the central difference filter coefficents, based on the parms.
   void calculateCoefficients1();
   void calculateCoefficients2();
};

//******************************************************************************
}//namespace


