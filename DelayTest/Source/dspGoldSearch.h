#pragma once

/*==============================================================================
Golden section search base class
==============================================================================*/

//******************************************************************************
//******************************************************************************
//******************************************************************************

namespace Dsp
{

//******************************************************************************
//******************************************************************************
//******************************************************************************
//******************************************************************************
//******************************************************************************
//******************************************************************************
// This is a base class that provides a golden section search. Inheritors
// provide an override for f(x).

class GoldSearchBase
{
public:

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Members.

   // Search variables.
   double mXAinitial;
   double mXBinitial;

   double mTolerance;
   int    mMaxIterations;

   double mA,mB,mC,mD;

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Constructor and initialization.

   // Constructor.
   GoldSearchBase();
   void reset();

   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // Perform the search.

   // Perform the search. Inputs are an initial bracket and a convergence 
   // tolerance.
   double search(
      double aXAinitial,
      double aXBinitial,
      double aTolerance,
      int    aMaxIterations);

   // Abstract f(x), supplied by inheritors.
   virtual double function(double aX)=0;
      
   //***************************************************************************
   //***************************************************************************
   //***************************************************************************
   // More.

};

//******************************************************************************
}//namespace


